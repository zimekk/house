(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9890],{8726:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/map",function(){return r(62431)}])},37944:e=>{e.exports={App:"styles_App___bI2u",Map:"styles_Map__QRxaj",RotateNorth:"styles_RotateNorth__KYoDl"}},54229:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DeployButton:()=>o,Layout:()=>l,Nav:()=>a,default:()=>c});var s=r(62021),i=r(47428);function n(){return(0,s.jsx)("div",{children:(0,s.jsx)("h1",{children:"house"})})}let o=e=>{let t=[["repository-url",e.repositoryUrl],["env",e.env?.join(",")],["project-name",e.projectName],["repository-name",e.repositoryName]].reduce((e,[t,r])=>(r&&e.push(`${t}=${encodeURIComponent(r)}`),e),[]).join("&");return(0,s.jsx)(i.$n,{Component:"a",href:e.customDeployUrl?e.customDeployUrl:`https://vercel.com/new/clone${t?`?${t}`:""}`,target:"_blank",rel:"noreferrer",children:"Clone & Deploy"})},a=({title:e,links:t,path:r,deployButton:n})=>{let a=n?.repositoryUrl||`https://github.com/vercel/examples/tree/main/${r}`;return(0,s.jsx)("nav",{className:"border-b border-gray-200 py-5 relative z-20 bg-background shadow-[0_0_15px_0_rgb(0,0,0,0.1)]",children:(0,s.jsxs)("div",{className:"flex items-center lg:px-6 px-8 mx-auto max-w-7xl",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center",children:[(0,s.jsx)(i.N_,{href:"/",children:(0,s.jsx)("span",{children:(0,s.jsxs)("svg",{height:"26",viewBox:"0 0 75 65",fill:"#000",children:[(0,s.jsx)("title",{children:e}),(0,s.jsx)("path",{d:"M37.59.25l36.95 64H.64l36.95-64z"})]})})}),(0,s.jsxs)("ul",{className:"flex items-center content-center",children:[(0,s.jsx)("li",{className:"ml-2 text-gray-200",children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",width:"32",height:"32",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,s.jsx)("path",{d:"M16.88 3.549L7.12 20.451"})})}),(0,s.jsxs)("li",{className:"font-medium",style:{letterSpacing:".01px"},children:[t.map(e=>(0,s.jsx)(i.N_,{href:`/${e}`,style:{marginRight:".5em"},children:e},e)),(0,s.jsx)("a",{href:"tmp/catch-ext.zip",style:{marginRight:".5em"},children:"ext"}),(0,s.jsx)("a",{href:"api/inspirations",style:{marginRight:".5em"},children:"zip"})]})]})]}),(0,s.jsx)("div",{className:"flex-1 justify-end hidden md:flex",children:(0,s.jsxs)("nav",{className:"flex-row inline-flex items-center",children:[(0,s.jsx)("span",{className:"ml-2 h-full flex items-center cursor-not-allowed text-accents-5",children:(0,s.jsx)(i.$n,{variant:"ghost",Component:"a",href:"https://github.com/vercel/examples/tree/main",target:"_blank",rel:"noreferrer",children:"More Examples â†’"})}),(0,s.jsx)("span",{className:"ml-2 h-full flex items-center cursor-not-allowed text-accents-5",children:(0,s.jsx)(o,{...n,repositoryUrl:a,projectName:n?.projectName||r,repositoryName:n?.repositoryName||r})})]})})]})})},l=({children:e,...t})=>(0,s.jsxs)("div",{className:"mx-auto h-screen flex flex-col",children:[(0,s.jsx)(a,{...t}),(0,s.jsx)("div",{className:"flex flex-auto",children:e})]}),c=Object.assign(function(){return(0,s.jsx)(n,{})},{Layout:l})},62431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var s=r(62021),i=r(74361),n=r(76645),o=r(78617),a=r(90656),l=r(35244),c=r(31278),u=r(48067),h=r(4045),d=r(64491),p=r(3910),g=r(34531),m=r(27313),f=r(99127),y=r(31239),x=r(92194),w=r(77216),_=r(12388);function j(e,t){let r=(""+e).split("."),s=(""+t).split(".");for(let e=0;e<Math.max(r.length,s.length);e++){let t=parseInt(r[e]||"0",10),i=parseInt(s[e]||"0",10);if(t>i)return 1;if(i>t)return -1}return 0}var A=r(47439),v=r(71708),R=r(30068);let E="1.3.0";function N(e,t){return Object.assign({REQUEST:t,SERVICE:"WMS",VERSION:E,FORMAT:"image/png",STYLES:"",TRANSPARENT:"TRUE"},e)}class b extends R.A{constructor(e){const t=Object.assign({},(e=e||{}).params);super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.tmpExtent_=(0,x.S5)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,t,r,s){let i=(0,f.Jt)(r),n=this.getProjection()||i,o=this.getTileGrid();o||(o=this.getTileGridForProjection(n));let a=(0,f.pd)(e,i,n),l=(0,_.KQ)(n,i,e,t),c=o.getZForResolution(l,this.zDirection),u=o.getResolution(c),h=o.getTileCoordForCoordAndZ(a,c);if(o.getResolutions().length<=h[0])return;let d=o.getTileCoordExtent(h,this.tmpExtent_),p=this.gutter_;0!==p&&(d=(0,x.r)(d,u*p,d));let g={QUERY_LAYERS:this.params_.LAYERS};Object.assign(g,N(this.params_,"GetFeatureInfo"),s);let m=Math.floor((a[0]-d[0])/u),y=Math.floor((d[3]-a[1])/u);return g[this.v13_?"I":"X"]=m,g[this.v13_?"J":"Y"]=y,this.getRequestUrl_(h,d,1,n||i,g)}getLegendUrl(e,t){if(void 0===this.urls[0])return;let r={SERVICE:"WMS",VERSION:E,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){let e=this.params_.LAYERS;if(!(!Array.isArray(e)||1===e.length))return;r.LAYER=e}return void 0!==e&&(r.SCALE=e*(this.getProjection()?this.getProjection().getMetersPerUnit():1)/28e-5),Object.assign(r,t),(0,v.LW)(this.urls[0],r)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,t,r,s,i){let n,o=this.urls;if(o){if(1==o.length)n=o[0];else{let t=(0,w.xP)((0,A.tW)(e),o.length);n=o[t]}return function(e,t,r,s,i,n,o){var a;let l,c;n=Object.assign({REQUEST:"GetMap"},n);let u=t/r,h=[(0,w.LI)((0,x.RG)(e)/u,4),(0,w.LI)((0,x.Oq)(e)/u,4)];if(1!=r)switch(o){case"geoserver":let d=90*r+.5|0;"FORMAT_OPTIONS"in n?n.FORMAT_OPTIONS+=";dpi:"+d:n.FORMAT_OPTIONS="dpi:"+d;break;case"mapserver":n.MAP_RESOLUTION=90*r;break;case"carmentaserver":case"qgis":n.DPI=90*r;break;default:throw Error("Unknown `serverType` configured")}return(a=n).WIDTH=h[0],a.HEIGHT=h[1],l=s.getAxisOrientation(),c=j(a.VERSION,"1.3")>=0,a[c?"CRS":"SRS"]=s.getCode(),a.BBOX=(c&&l.startsWith("ne")?[e[1],e[0],e[3],e[2]]:e).join(","),(0,v.LW)(i,a)}(t,(this.tileGrid||this.getTileGridForProjection(s)).getResolution(e[0]),r,s,n,i,this.serverType_)}}getTilePixelRatio(e){return this.hidpi_&&void 0!==this.serverType_?e:1}getKeyForParams_(){let e=0,t=[];for(let r in this.params_)t[e++]=r+"-"+this.params_[r];return t.join("/")}setParams_(e){this.params_=e,this.updateV13_(),this.setKey(this.getKeyForParams_())}setParams(e){this.setParams_(Object.assign({},e))}updateParams(e){this.setParams_(Object.assign(this.params_,e))}updateV13_(){let e=this.params_.VERSION||E;this.v13_=j(e,"1.3")>=0}tileUrlFunction(e,t,r){let s=this.getTileGrid();if(s||(s=this.getTileGridForProjection(r)),s.getResolutions().length<=e[0])return;1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);let i=s.getResolution(e[0]),n=s.getTileCoordExtent(e,this.tmpExtent_),o=this.gutter_;0!==o&&(n=(0,x.r)(n,i*o,n));let a=Object.assign({},N(this.params_,"GetMap"));return this.getRequestUrl_(e,n,t,r,a)}}var P=r(83639),S=r(92645),T=r(65261),O=r(86172),F=r(53160);r(56087);var C=r(52667);let I=[1.886,2.11,4.939,1.467],L=[1.97,2.212,5.072,1.735];function k([e,t,r,s]){return[[e,-t],[e+r,-t],[e+r,-t-s],[e,-t-s]].map(([e,t])=>{let r=new C.A((0,f.Rb)([20.75907447322544,52.13477143461034])),s=(0,f.hO)("EPSG:3857",1,r.getCoordinates());return r.translate((.9820042351172703*e- -.18885889497650057*t)/s,(-.18885889497650057*e+.9820042351172703*t)/s),r.getCoordinates()})}var M=r(37944),G=r.n(M);class U extends n.A{constructor(e={}){const t=document.createElement("button");t.innerHTML="N";const r=document.createElement("div");r.className=`${G().RotateNorth} ol-unselectable ol-control`,r.appendChild(t),Object.assign(e,{element:r}),super(e),t.addEventListener("click",this.handleRotateNorth.bind(this),!1)}handleRotateNorth(){let e=this.getMap();e&&e.getView().setRotation(-.19)}}function z(){let[e]=(0,i.useState)(()=>({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[20.75907447322544,52.13477143461034],[20.75974786143117,52.13469118662698],[20.759971036190713,52.13442983819979],[20.758997907993905,52.134528896721974]]]}}]})),[t,r,n,x]=(()=>{let e=[[0,0,10,16.6-1.9],[10,4,6.52,12.6],[16.52,4,10.5-6.52,10.7],[20.5,6.7,11.3-4,8],[20.5,5,11.3-4,1.7],[27.8,5,4,9.7],[31.8,5,4,11.6],[20.5,4,25.3,1],[45.8,4,4,12.6]];console.log(e.reduce((e,[t,r,s,i])=>e+s*i,0));let[t]=(0,i.useState)(()=>({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:e.map(k)}}]})),[r]=(0,i.useState)(()=>({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[(([e,t,r])=>[3+(3-e)/2,.5,e,r])(I),(([e,t,r])=>[6+(3-e)/2,.5,e,r])(L),(([e,t,r])=>[12,4.8+(3-e)/2,r,e])(I),(([e,t,r])=>[12,7.8+(3-e)/2,r,e])(L),(([e,t,r])=>[10,0+(4-e)/2,r,e])(I),(([e,t,r])=>[15.5,0+(4-e)/2,r,e])(L),(([e,t,r])=>[.6,4.48+(6.92-e)/2,r,e])(I),(([e,t,r])=>[5.6,4.48+(6.92-e)/2,r,e])(L),(([e,t])=>[10.8,4.48+(6.92-e)/2,t,e])([5.5,.48]),(([e,t])=>[10.8+.48,4.48,t,e])([6.64,6.36]),(([e,t])=>[0,4.48+(6.92-e)/2,t,e])([4.5,.48]),(([e,t])=>[0,4.48+(6.92-e)/2-e,t,e])([4.5,.48]),(([e,t])=>[0,0,t,e])([1,.48]),(([e,t])=>[0,4.48+(6.92-e)/2,t,e])([5.5,10]),(([e,t])=>[0,11.4,t,e])([1.6,12]),(([e,t])=>[0,12,t,e])([1,.48]),(([e,t])=>[12,11.4,t,e])([.6,.48]),(([e,t])=>[12,12,t,e])([1,.48]),(([e,t])=>[-.2,10.190000000000001,t,e])([1.81,.48]),(([e,t])=>[-.2,13,t,e])([3.6-1.9,.48])].map(k)}}]})),[s]=(0,i.useState)(()=>({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[0,16.6,35.8,10],[35.8,0,11,26.6]].map(k)}}]})),n=[[0,0,10,16.6],[10,0,10.5,16.6],[20.5,5,15.3,11.6],[35.8,5,15,11.6],[50.8,10.8,9,5.8],[56.3,16.6,3.5,2]],o=n.reduce((e,[t,r,s,i])=>e+s*i,0);console.log({sum:o,payment:new Intl.NumberFormat("pl-PL",{currency:"PLN",minimumFractionDigits:2,style:"currency"}).format(Math.abs(o-500)/1e4*174870)});let[a]=(0,i.useState)(()=>({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:n.map(k)}}]}));return[t,r,s,a]})(),[w,_]=(0,i.useState)(),j=(0,i.useRef)(null),A=(0,i.useRef)(null);(0,i.useEffect)(()=>{let s=new P.A({features:new u.A({featureProjection:"EPSG:3857"}).readFeatures(e)}),i=new g.A({source:s,style:new S.Ay({fill:new T.A({color:"rgba(255, 255, 255, 0.2)"}),stroke:new O.A({color:"#ffcc33",width:2}),image:new F.A({radius:7,fill:new T.A({color:"#ffcc33"})})})}),w=new g.A({source:new P.A({features:new u.A({}).readFeatures(t)}),style:new S.Ay({fill:new T.A({color:"rgba(255, 255, 255, 0.2)"}),stroke:new O.A({color:"#ffcc33",width:2})})}),_=new l.A({target:j.current||void 0,layers:[new m.A({source:new y.A}),new m.A({source:new b({url:"https://integracja.gugik.gov.pl/cgi-bin/KrajowaIntegracjaEwidencjiGruntow",params:{LAYERS:"dzialki,numery_dzialek,budynki",TILED:!0}})}),i,w,new g.A({source:new P.A({features:new u.A({}).readFeatures(r)}),style:new S.Ay({fill:new T.A({color:"rgba(255, 255, 255, 0.2)"}),stroke:new O.A({color:"#ff3344",width:1})})}),new g.A({source:new P.A({features:new u.A({}).readFeatures(n)}),style:new S.Ay({fill:new T.A({color:"rgba(255, 255, 255, 0.2)"}),stroke:new O.A({color:"#2233cc",width:1})})}),new g.A({source:new P.A({features:new u.A({}).readFeatures(x)}),style:new S.Ay({fill:new T.A({color:"rgba(255, 255, 255, 0.2)"}),stroke:new O.A({color:"#33cc22",width:2})})})].filter(Boolean),view:new c.Ay({projection:"EPSG:3857",center:(0,f.Rb)([20.7594,52.1346]),zoom:20}),controls:(0,o.N)().extend([new U,new a.A])}),R=new h.A({source:s});_.addInteraction(R);let E=new d.Ay({source:s,type:"Polygon"});_.addInteraction(E);let N=new p.A({source:s});_.addInteraction(N),_.on("click",v),A.current=_},[]),(0,i.useEffect)(()=>{},[e]);let v=e=>{if(!A.current)return;let t=A.current.getCoordinateFromPixel(e.pixel);_((0,f.pd)(t,"EPSG:3857","EPSG:4326"))};return(0,s.jsxs)("div",{className:G().App,children:[(0,s.jsx)("h1",{children:"map"}),(0,s.jsx)("div",{ref:j,className:G().Map}),(0,s.jsx)("div",{children:JSON.stringify(w,null,2)})]})}let D=Object.assign(function(){return(0,s.jsx)(z,{})},{Layout:r(54229).Layout})}},e=>{e.O(0,[7428,1947,1130,1239,636,6593,8792],()=>e(e.s=8726)),_N_E=e.O()}]);