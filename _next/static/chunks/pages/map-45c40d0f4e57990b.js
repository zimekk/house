(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{7528:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/map",function(){return n(8006)}])},8006:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var o=n(7458),r=n(2983),a=n(8566),i=n(4935),c=n(3193),Map=n(2494),s=n(7501),l=n(4640),u=n(6399),d=n(9446),f=n(4248),w=n(1062),p=n(9039),_=n(9862),g=n(5381),h=n(5884),Z=n(5359),y=n(8066),E=n(1105),m=n(8690),N=n(2765);n(2041);var j=n(8677),P=n.n(j);class v extends a.Z{handleRotateNorth(){let e=this.getMap();e&&(console.log(e.getView().getRotation()),e.getView().setRotation(-.19))}constructor(e={}){let t=document.createElement("button");t.innerHTML="N";let n=document.createElement("div");n.className="".concat(P().RotateNorth," ol-unselectable ol-control"),n.appendChild(t),Object.assign(e,{element:n}),super(e),t.addEventListener("click",this.handleRotateNorth.bind(this),!1)}}function R(){let[e]=(0,r.useState)(()=>({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[20.75907447322544,52.13477143461034],[20.75974786143117,52.13469118662698],[20.759971036190713,52.13442983819979],[20.758997907993905,52.134528896721974]]]}}]})),[t,n]=(0,r.useState)(),a=(0,r.useRef)(null),j=(0,r.useRef)();(0,r.useRef)(),(0,r.useEffect)(()=>{let t=new Z.Z({features:new l.Z({featureProjection:"EPSG:3857"}).readFeatures(e)}),n=new w.Z({source:t,style:new y.ZP({fill:new E.Z({color:"rgba(255, 255, 255, 0.2)"}),stroke:new m.Z({color:"#ffcc33",width:2}),image:new N.Z({radius:7,fill:new E.Z({color:"#ffcc33"})})})}),o=new Map.Z({target:a.current||void 0,layers:[new p.Z({source:new g.Z}),new p.Z({source:new h.Z({url:"https://integracja.gugik.gov.pl/cgi-bin/KrajowaIntegracjaEwidencjiGruntow",params:{LAYERS:"dzialki,numery_dzialek,budynki",TILED:!0}})}),n].filter(Boolean),view:new s.ZP({projection:"EPSG:3857",center:(0,_.mi)([20.75854578484479,52.13468296989453]),zoom:18}),controls:(0,i.c)().extend([new v,new c.Z])}),r=new u.Z({source:t});o.addInteraction(r);let P=new d.ZP({source:t,type:"Polygon"});o.addInteraction(P);let b=new f.Z({source:t});o.addInteraction(b),o.on("click",R),j.current=o},[]),(0,r.useEffect)(()=>{},[e]);let R=e=>{if(!j.current)return;let t=j.current.getCoordinateFromPixel(e.pixel);n((0,_.vs)(t,"EPSG:3857","EPSG:4326"))};return(0,o.jsxs)("div",{className:P().App,children:[(0,o.jsx)("h1",{children:"map"}),(0,o.jsx)("div",{ref:a,className:P().Map}),(0,o.jsx)("div",{children:JSON.stringify(t,null,2)})]})}var b=Object.assign(function(){return(0,o.jsx)(R,{})},{Layout:n(2099).Layout})},8677:function(e){e.exports={App:"styles_App___bI2u",Map:"styles_Map__QRxaj",RotateNorth:"styles_RotateNorth__KYoDl"}}},function(e){e.O(0,[260,190,891,596,99,774,888,179],function(){return e(e.s=7528)}),_N_E=e.O()}]);