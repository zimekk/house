(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{7528:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/map",function(){return n(8006)}])},8006:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(7458),o=n(2983),s=n(8566),c=n(4935),a=n(3193),l=n(6079),Map=n(2494),i=n(7501),u=n(336),w=n(6286),d=n(3376),f=n(9039),E=n(1062),p=n(9862),P=n(5381),_=n(5884),g=n(5562),h=n(8066),Z=n(2765),S=n(1105),v=n(8690);n(2041);var m=n(8677),G=n.n(m);class y extends s.Z{handleRotateNorth(){let e=this.getMap();e&&(console.log(e.getView().getRotation()),e.getView().setRotation(-.19))}constructor(e={}){let t=document.createElement("button");t.innerHTML="N";let n=document.createElement("div");n.className="".concat(G().RotateNorth," ol-unselectable ol-control"),n.appendChild(t),Object.assign(e,{element:n}),super(e),t.addEventListener("click",this.handleRotateNorth.bind(this),!1)}}function N(){let[e]=(0,o.useState)(()=>[new l.Z({geometry:new w.ZP([[(0,p.vs)([20.759074648790126,52.134771410381745],"EPSG:4326","EPSG:3857"),(0,p.vs)([20.75974792819471,52.13469098286498],"EPSG:4326","EPSG:3857"),(0,p.vs)([20.75997122979982,52.13442974707036],"EPSG:4326","EPSG:3857"),(0,p.vs)([20.758997850859455,52.13452854926538],"EPSG:4326","EPSG:3857")]]),labelPoint:new u.Z((0,p.vs)([20.75940405898775,52.13464930933981],"EPSG:4326","EPSG:3857")),name:"My Polygon"})]),[t,n]=(0,o.useState)(),s=(0,o.useRef)(null),m=(0,o.useRef)(),N=(0,o.useRef)();(0,o.useEffect)(()=>{let e=new g.Z,t=new E.Z({source:e,style:new h.ZP({fill:new S.Z({color:"rgba(255, 255, 255, 0.2)"}),stroke:new v.Z({color:"#ffcc33",width:2}),image:new Z.Z({radius:7,fill:new S.Z({color:"#ffcc33"})})})}),n=new E.Z({source:new g.Z}),r=new Map.Z({target:s.current||void 0,layers:[new f.Z({source:new P.Z}),new f.Z({source:new _.Z({url:"https://integracja.gugik.gov.pl/cgi-bin/KrajowaIntegracjaEwidencjiGruntow",params:{LAYERS:"dzialki,numery_dzialek,budynki",TILED:!0}})}),n,t].filter(Boolean),view:new i.ZP({projection:"EPSG:3857",center:(0,p.vs)([20.75854578484479,52.13468296989453],"EPSG:4326","EPSG:3857"),zoom:18}),controls:(0,c.c)().extend([new y,new a.Z])}),o=new d.ZP({source:e,type:"Polygon"});r.addInteraction(o),r.on("click",j),m.current=r,N.current=n},[]),(0,o.useEffect)(()=>{m.current&&N.current&&e.length&&N.current.setSource(new g.Z({features:e}))},[e]);let j=e=>{if(!m.current)return;let t=m.current.getCoordinateFromPixel(e.pixel);n((0,p.vs)(t,"EPSG:3857","EPSG:4326"))};return(0,r.jsxs)("div",{className:G().App,children:[(0,r.jsx)("h1",{children:"map"}),(0,r.jsx)("div",{ref:s,className:G().Map}),(0,r.jsx)("div",{children:JSON.stringify(t,null,2)})]})}var j=Object.assign(function(){return(0,r.jsx)(N,{})},{Layout:n(2099).Layout})},8677:function(e){e.exports={App:"styles_App___bI2u",Map:"styles_Map__QRxaj",RotateNorth:"styles_RotateNorth__KYoDl"}}},function(e){e.O(0,[630,34,490,684,99,774,888,179],function(){return e(e.s=7528)}),_N_E=e.O()}]);