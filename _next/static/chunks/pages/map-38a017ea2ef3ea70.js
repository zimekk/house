(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{3756:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/map",function(){return n(1421)}])},1421:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(1549),o=n(4194),a=n(7064),l=n(7440),s=n(2145),i=n(5627),c=n(8070),u=n(4239),d=n(6778),w=n(9005),p=n(4293),f=n(7852),_=n(1859),g=n(1918),h=n(5242),Z=n(2782),y=n(5114),E=n(267),m=n(1981),N=n(2460),j=n(2356);n(6452);var P=n(1545),v=n.n(P);class R extends a.Z{handleRotateNorth(){let e=this.getMap();e&&(console.log(e.getView().getRotation()),e.getView().setRotation(-.19))}constructor(e={}){let t=document.createElement("button");t.innerHTML="N";let n=document.createElement("div");n.className="".concat(v().RotateNorth," ol-unselectable ol-control"),n.appendChild(t),Object.assign(e,{element:n}),super(e),t.addEventListener("click",this.handleRotateNorth.bind(this),!1)}}function b(){let[e]=(0,o.useState)(()=>({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[20.75907447322544,52.13477143461034],[20.75974786143117,52.13469118662698],[20.759971036190713,52.13442983819979],[20.758997907993905,52.134528896721974]]]}}]})),[t,n]=(0,o.useState)(),a=(0,o.useRef)(null),P=(0,o.useRef)();(0,o.useRef)(),(0,o.useEffect)(()=>{let t=new y.Z({features:new u.Z({featureProjection:"EPSG:3857"}).readFeatures(e)}),n=new f.Z({source:t,style:new E.ZP({fill:new m.Z({color:"rgba(255, 255, 255, 0.2)"}),stroke:new N.Z({color:"#ffcc33",width:2}),image:new j.Z({radius:7,fill:new m.Z({color:"#ffcc33"})})})}),r=new i.Z({target:a.current||void 0,layers:[new _.Z({source:new h.Z}),new _.Z({source:new Z.Z({url:"https://integracja.gugik.gov.pl/cgi-bin/KrajowaIntegracjaEwidencjiGruntow",params:{LAYERS:"dzialki,numery_dzialek,budynki",TILED:!0}})}),n].filter(Boolean),view:new c.ZP({projection:"EPSG:3857",center:(0,g.mi)([20.75854578484479,52.13468296989453]),zoom:18}),controls:(0,l.c)().extend([new R,new s.Z])}),o=new d.Z({source:t});r.addInteraction(o);let v=new w.ZP({source:t,type:"Polygon"});r.addInteraction(v);let k=new p.Z({source:t});r.addInteraction(k),r.on("click",b),P.current=r},[]),(0,o.useEffect)(()=>{},[e]);let b=e=>{if(!P.current)return;let t=P.current.getCoordinateFromPixel(e.pixel);n((0,g.vs)(t,"EPSG:3857","EPSG:4326"))};return(0,r.jsxs)("div",{className:v().App,children:[(0,r.jsx)("h1",{children:"map"}),(0,r.jsx)("div",{ref:a,className:v().Map}),(0,r.jsx)("div",{children:JSON.stringify(t,null,2)})]})}let k=Object.assign(function(){return(0,r.jsx)(b,{})},{Layout:n(5499).Layout})},1545:e=>{e.exports={App:"styles_App___bI2u",Map:"styles_Map__QRxaj",RotateNorth:"styles_RotateNorth__KYoDl"}}},e=>{var t=t=>e(e.s=t);e.O(0,[27,794,360,499,888,774,179],()=>t(3756)),_N_E=e.O()}]);